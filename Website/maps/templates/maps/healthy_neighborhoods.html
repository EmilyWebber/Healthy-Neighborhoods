{% extends 'maps/base.html' %}
{% load staticfiles %}

{% block body %}

	<p>Select your variable: </p>



<!--
<form class ="drop_down_menu">
	<select name="x">
		<option>A</option>
		<option>B</option>
		<option>C</option>
	</select>
</form>

<form class ="drop_down_menu">
	<select name="y">
		<option>A</option>
		<option>B</option>
		<option>C</option>
	</select>
</form>
 -->

 <!-- Map -->
    <style>
      #map {
        width: 100%;
        height: 80%;
        position: absolute;
        left: 200px;
        top: 300px;

      }
    </style>

<!--
  <body>
    <div id = "map"></div>
    <script>
      function initMap() {
        var mapDiv = document.getElementById('map');
        var map = new google.maps.Map(mapDiv, {
          center: {lat: 41.847, lng: -87.642},
          //center: new google.maps.LatLng(-19.2577, 146.8236),
          zoom: 11
        });

        // KML map layer
        var kmlLayer = new google.maps.KmlLayer("https://sites.google.com/site/chihealthyneighborhoods/kml-links/Boundaries%20-%20Community%20Areas%20%28current%29.kml", {
        
        //var kmlLayer = new google.maps.KmlLayer("https://www.dropbox.com/s/gwc3aj01jvr9j2m/test_doc.kml?dl=0", {
        //var kmlLayer = new google.maps.KmlLayer("http://chicagomap.zolk.com/sources/neighborhoods/source.kml", {
        //var kmlLayer = new google.maps.KmlLayer("https://developers.google.com/maps/tutorials/kml/westcampus.kml", {
        	supressInfoWindows: true,
        	preserveViewport: true,
        	map: map
        });

      }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?callback=initMap"
        async defer></script>
  </body>
-->


<body>
    <div id="map"></div>
    <script>

      // This example creates a simple polygon representing the Bermuda Triangle.
      function initMap() {
        var mapDiv = document.getElementById('map');
        var map = new google.maps.Map(mapDiv, {
          center: {lat: 41.847, lng: -87.642},
          //center: new google.maps.LatLng(-19.2577, 146.8236),
          zoom: 11
        });


        {% for neighborhood, coordinates in neighborhoods.items %}
          print({{neighborhood}})
          var neighborhoodCoords = []
            {% for coordinate in {{coordinates}}}
              neighborhoodCoords.push(new google.maps.LatLng({{coordinate}}[0], {{coordinate}}[1]))
            {% endfor %}
          //print({{coordinates}})

          var neighborhoodPolygon = new google.maps.Polygon({
            paths: neighborhoodCoords,
            strokeColor: '#FF0000',
            strokeOpacity: 0.8,
            strokeWeight: 2,
            fillColor: '#FF0000',
            fillOpacity: 0.35
        });
        neighborhoodPolygon.setMap(map);
        {% endfor %}
      }




    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCVBQupglb_52iL3cHJO5ee-AiqHRCsoXU&callback=initMap">
                                          //API keyL AIzaSyCVBQupglb_52iL3cHJO5ee-AiqHRCsoXU
    </script>
  </body>

<!-- Dropdown bar -->

<!--
	<div class = "dropdown">
		<button class = "btn btn-primary dropdown-toggle" type = "button" data-toggle = "dropdown" >Variable 1
		<span class ="caret"></span></button>
		</button>
		<ul class="dropdown-menu">
			{% for variable in form %}
				<li>{{variable}}</li>
			{% endfor %}
		</ul>
	</div>
-->
<!--
<div class="btn-group">
         <button type="button" class="btn btn-default dropdown-toggle form-control" data-toggle="dropdown">
           <span data-bind="label">Select One</span>
         </button>
         <ul class="dropdown" role="menu">
             {% for variable in form %}
                 <li>{{ variable }}</li>
             {% endfor %}
         </ul>
      </div>
-->
<form method ="post">
	{% csrf_token %}
	{{form}}
	<input type="submit" value="Submit"/>
</form>

{% endblock %}